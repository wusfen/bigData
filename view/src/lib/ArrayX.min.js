/*!
 * Array 补丁 与 增强
 * https://github.com/wusfen/ArrayX.js
 * 2016.04.01 c
 * 2016.12.15 u
 */
!function(){function orExtend(t,r){for(var n in r)t[n]||(t[n]=r[n]);return t}Object.values=function(t){var r=[];for(var n in t)t.hasOwnProperty(n)&&r.push(t[n]);return r},Object.extend=function(t,r){for(var n in r)t[n]=r[n];return t};var selectOne,aprox={forEach:function(t,r){for(var n=0;n<this.length;n++)t.call(r,this[n],n,this);return this},select:function(_w){for(var findArr=[],i=0;i<this.length;i++){var obj=this[i],eq=!0;if("string"==typeof _w)with(obj)eq=eval(_w);else if("function"==typeof _w)_w(obj,i,this)||(eq=!1);else for(var key in _w)obj[key]!=_w[key]&&(eq=!1);if(eq&&(findArr.push(obj),selectOne))break}return findArr},get:function(t){isNaN(+t)||(t={id:t}),selectOne=1;var r=this.select(t)[0];return selectOne=0,r},set:function(t){for(var r=0;r<this.length;r++){var n=this[r];for(var e in t)n[e]=t[e]}return this},save:function(t,r){if(r=r||"id",r in Object(t)){var n={};n[r]=t[r];var e=this.get(n);if(e){for(var i in t)e[i]=t[i];return this}}return this.push(t),this},"delete":function(t){if("number"==typeof t)return this.splice(t,1),this;for(var r=this.select(t),n=0;n<r.length;n++)for(var e=0;e<this.length;e++)r[n]==this[e]&&this.splice(e--,1);return this},remove:function(t){for(var r=0;r<this.length;r++)t===this[r]&&this.splice(r--,1);return this},orderBy:function(t){return this.sort(function(r,n){return t?n[t]<r[t]:r>n}),this},indexOf:function(t){for(var r=0;r<this.length;r++)if(this[r]===t)return r;return-1},contains:function(t){return-1!=this.indexOf(t)},ensure:function(t){return!this.contains(t)&&this.push(t),this},uniq:function(){var t=[];return this.each(function(r){t.ensure(r)}),t},map:function(t){var r=[];return this.each(function(n){r.push(t(n))}),r},toArray:function(){return this},toJson:function(){return JSON.stringify(this)}};aprox.filter=aprox.select,aprox.where=aprox.select,aprox.each=aprox.forEach,aprox.has=aprox.contains,orExtend(Array.prototype,aprox)}();